<nav class="hk-navbar">
  <div class="hk-nav-container">

    <!-- Brand -->
    <a href="/" class="hk-brand">
      <img src="/images/logo.jpg" alt="Homekuti" class="hk-logo" />
      <span>Homekuti</span>
    </a>
    <!-- Right side nav -->
    <div class="hk-right">
      <!-- Desktop links -->
      <div class="hk-links">
        <a href="/" class="<%= activeRoute === '/' ? 'active' : '' %>">Home</a>
        <a href="/listings" class="<%= activeRoute === '/listings' ? 'active' : '' %>">All Listings</a>
        <a href="/listings/new" class="<%= activeRoute === '/listings/new' ? 'active' : '' %>">Add Listing</a>
      </div>

      <!-- Hamburger -->
      <div class="hk-menu">
        <button class="hk-menu-btn" id="menuBtn" aria-label="Menu">
          â˜°
        </button>

        <!-- Dropdown -->
        <div class="hk-dropdown" id="menuDropdown">

          <!-- Mobile-only links -->
          <div class="hk-dropdown-section mobile-only">
            <a href="/">Home</a>
            <a href="/listings">All Listings</a>
            <a href="/listings/new">Add Listing</a>
            <div class="divider"></div>
          </div>

          <% if(!currUser) { %>
            <a href="/user/signup">Sign Up</a>
            <a href="/user/signin">Sign In</a>
            <% } else { %>
              <a href="/user/logout" class="danger">Log Out</a>
              <% } %>

        </div>
      </div>
    </div>
  </div>
</nav>

<script>
  const btn = document.getElementById("menuBtn");
  const menu = document.getElementById("menuDropdown");

  btn.addEventListener("click", (e) => {
    e.stopPropagation();
    menu.classList.toggle("open");
  });

  document.addEventListener("click", () => {
    menu.classList.remove("open");
  });
</script>